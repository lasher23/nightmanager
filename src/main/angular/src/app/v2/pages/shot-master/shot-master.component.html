<div class="p-6">
  <h1 class="text-2xl font-bold mb-4">Shot Master</h1>

  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
    @if (entries && entries.length > 0) {
      @for (s of entries; track s) {
        <div class="card bg-base-100 shadow hover:shadow-lg transition-shadow duration-200 cursor-pointer relative group" (click)="incrementLocal(s.team.id)">
          <div class="card-body cursor-pointer">
            <h2 class="card-title text-base sm:text-lg">{{ s.team?.name }}</h2>
            <p class="text-2xl sm:text-3xl font-bold text-primary">{{ s.shots }}</p>
            @if (getPendingCount(s.team.id) !== 0) {
              <p class="text-xs font-semibold" [ngClass]="{'text-success': getPendingCount(s.team.id) > 0, 'text-error': getPendingCount(s.team.id) < 0}">
                @if (getPendingCount(s.team.id) > 0) {
                  <span>+{{ getPendingCount(s.team.id) }} pending</span>
                }
                @if (getPendingCount(s.team.id) < 0) {
                  <span>-{{ getAbsPendingCount(s.team.id) }} pending</span>
                }
              </p>
            }
            <button class="btn btn-circle btn-xs btn-ghost text-error absolute top-3 right-3" (click)="decrementLocal(s.team.id); $event.stopPropagation()" title="Remove shot (undo)">
              −
            </button>
          </div>
        </div>
      }
    } @else {
      @if (loading) {
        <div class="text-center p-4">Loading…</div>
      }
      @if (!loading) {
        <div class="text-center p-4">No teams found.</div>
      }
    }
  </div>


  <div class="mt-4">
    <button class="btn" (click)="reload()">Reload</button>
  </div>
</div>
